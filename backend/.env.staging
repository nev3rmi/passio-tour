# Environment: Staging
# Description: Staging configuration with production-like security and integrations

# Server Configuration
NODE_ENV=staging
PORT=5000
FRONTEND_URL=https://staging.passio-tour.com

# Database Configuration
DATABASE_HOST=staging-db.passio-tour.com
DATABASE_PORT=5432
DATABASE_NAME=passio_tour_staging
DATABASE_USERNAME=app_user
DATABASE_PASSWORD=<generate-strong-password>
DATABASE_POOL_MAX=20
DATABASE_IDLE_TIMEOUT=30000
DATABASE_CONNECTION_TIMEOUT=2000

# Redis Configuration
REDIS_HOST=staging-redis.passio-tour.com
REDIS_PORT=6379
REDIS_DB=0
REDIS_KEY_PREFIX=passio_tour_staging:

# Authentication Secrets (Generate cryptographically secure secrets)
JWT_SECRET=<generate-32+char-random-string>
JWT_EXPIRES_IN=24h
REFRESH_TOKEN_EXPIRES_IN=7d
BCRYPT_ROUNDS=12

SESSION_SECRET=<generate-32+char-random-string>
SESSION_TTL=86400
USER_SESSIONS_TTL=604800
REFRESH_TOKEN_TTL=604800

# Security Configuration
CORS_ORIGINS=https://staging.passio-tour.com
HELMET_ENABLED=true
COMPRESSION_ENABLED=true

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=500

# Feature Flags
ENABLE_WEBSOCKETS=true
ENABLE_STRIPE=true
ENABLE_PAYPAL=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_S3_UPLOAD=true

# Logging
LOG_LEVEL=info
LOG_FILE=./logs/app-staging.log
LOG_MAX_FILES=7
LOG_MAX_SIZE=20m

# File Upload
MAX_FILE_SIZE=10485760
ALLOWED_MIME_TYPES=image/jpeg,image/png,image/webp
UPLOAD_PATH=/var/uploads

# Email (Staging - Use production provider with test data)
EMAIL_PROVIDER=sendgrid
EMAIL_API_KEY=<sendgrid-api-key>
EMAIL_FROM=noreply@staging.passio-tour.com
EMAIL_FROM_NAME=Passio Tour Staging

# Payment Gateways (Staging - Use test/sandbox credentials)
STRIPE_PUBLISHABLE_KEY=pk_test_<test-key>
STRIPE_SECRET_KEY=sk_test_<test-key>
STRIPE_WEBHOOK_SECRET=whsec_<webhook-secret>

PAYPAL_CLIENT_ID=<sandbox-client-id>
PAYPAL_CLIENT_SECRET=<sandbox-client-secret>
PAYPAL_MODE=sandbox

# AWS (Staging)
AWS_ACCESS_KEY_ID=<staging-access-key>
AWS_SECRET_ACCESS_KEY=<staging-secret-key>
AWS_REGION=us-east-1
AWS_S3_BUCKET=passio-tour-staging-uploads

# Configuration Encryption (Recommended for staging)
CONFIG_ENCRYPTION_KEY=<secure-encryption-key>